NoSQL : 5 minutes pour comprendre

NoSQL signifie â€œNot Only SQLâ€, littÃ©ralement â€œpas seulement SQLâ€. Ce terme dÃ©signe lâ€™ensemble des bases de donnÃ©es qui sâ€™opposent Ã  la notion relationnelle des SGBDR. La dÃ©finition, â€œpas seulement SQLâ€, apporte un dÃ©but de rÃ©ponse Ã  la question â€œEst ce que le NoSQL va tuer les bases relationnelles?â€. En effet, NoSQL ne vient pas remplacer les BD relationnelles mais proposer une alternative ou complÃ©ter les fonctionnalitÃ©s des SGBDR pour donner des solutions plus intÃ©ressantes dans certains contextes.
Mais pourquoi le NoSQL ?

Le premier besoin fondamental auquel rÃ©pond NoSQL est la performance. En effet, ces derniÃ¨res annÃ©es, les gÃ©ants du Web comme Google et Amazon ont vu leurs besoins en termes de charge et de volumÃ©trie de donnÃ©es croÃ®tre de faÃ§on exponentielle. Et câ€™est pour rÃ©pondre Ã  ces besoins que ses solutions ont vu le jour. Les architectes de ces organisations ont procÃ©dÃ© Ã  des compromis sur le caractÃ¨re ACID des SGBDR. Ces intelligents compromis sur la notion de relationnel ont permis de dÃ©gager les SGBDR de leurs freins Ã  la scalabilitÃ© horizontale et Ã  lâ€™Ã©volutivitÃ©. Par la suite des entreprises comme Facebook, Twitter ou encore LinkedIn ont migrÃ© une partie de leurs donnÃ©es sur des bases NoSQL. Cette adoption croissante des bases NoSQL conduit Ã  une multiplication et une amÃ©lioration des offres Open Source des moteurs.
Plus de relationnel, mais quelles autres caractÃ©ristiques?
Ne plus rÃ©pondre au modÃ¨le relationnel est la caractÃ©ristique principale des bases de donnÃ©es NoSQL. Les bases de donnÃ©es NoSQL rÃ©pondent aussi au thÃ©orÃ¨me du CAP dâ€™Eric Brewer qui est plus adaptÃ© aux systÃ¨mes distribuÃ©s. Ce thÃ©orÃ¨me Ã©nonce que tout systÃ¨me distribuÃ© peut rÃ©pondre aux contraintes suivantes:

    CohÃ©rence : tous les noeuds du systÃ¨me voient exactement les mÃªmes donnÃ©es au mÃªme moment
        Haute disponibilitÃ© (Availability) : en cas de panne, les donnÃ©es restent accessibles
	    TolÃ©rance au Partitionnement : le systÃ¨me peut Ãªtre partitionnÃ©

	    Mais le thÃ©orÃ¨me du CAP prÃ©cise aussi que seulement deux de ces trois contraintes peuvent Ãªtre respectÃ©es en mÃªme temps.
	    Dâ€™autres caractÃ©ristiques communes aux diffÃ©rentes bases de donnÃ©es NoSQL peuvent Ãªtre citÃ©es tel que le partitionnement horizontal sur plusieurs noeuds, la rÃ©plication des donnÃ©es, les schÃ©mas dynamiques ou lâ€™absence de schÃ©ma.
	    Plusieurs bases de donnÃ©es NoSQL, mais de quels types?

	    Les solutions NoSQL existantes peuvent Ãªtre regroupÃ©es en 4 grandes familles.

	        ClÃ© / valeur : Ce modÃ¨le peut Ãªtre assimilÃ© Ã  une hashmap distribuÃ©e. Les donnÃ©es sont, donc, simplement reprÃ©sentÃ©es par un couple clÃ©/valeur. La valeur peut Ãªtre une simple chaÃ®ne de caractÃ¨res, un objet sÃ©rialisÃ©â€¦ Cette absence de structure ou de typage ont un impact important sur le requÃªtage. En effet, toute lâ€™intelligence portÃ©e auparavant par les requÃªtes SQL devra Ãªtre portÃ©e par lâ€™applicatif qui interroge la BD. NÃ©anmoins, la communication avec la BD se rÃ©sumera aux opÃ©rations PUT, GET et DELETE. Les solutions les plus connues sont Redis, Riak et Voldemort crÃ©Ã© par LinkedIn.

		    OrientÃ© colonne : Ce modÃ¨le ressemble Ã  premiÃ¨re vue Ã  une table dans un SGBDR Ã  la diffÃ©rence quâ€™avec une BD NoSQL orientÃ©e colonne, le nombre de colonnes est dynamique. En effet, dans une table relationnelle, le nombre de colonnes est fixÃ© dÃ©s la crÃ©ation du schÃ©ma de la table et ce nombre reste le mÃªme pour tous les enregistrements dans cette table. Par contre, avec ce modÃ¨le, le nombre de colonnes peut varier dâ€™un enregistrement Ã  un autre ce qui Ã©vite de retrouver des colonnes ayant des valeurs NULL. Comme solutions, on retrouve principalement HBase (implÃ©mentation Open Source du modÃ¨le BigTable publiÃ© par Google) ainsi que Cassandra (projet Apache qui respecte lâ€™architecture distribuÃ©e de Dynamo dâ€™Amazon et le modÃ¨le BigTable de Google).

		        OrientÃ© document : Ce modÃ¨le se base sur le paradigme clÃ© valeur. La valeur, dans ce cas, est un document de type JSON ou XML. Lâ€™avantage est de pouvoir rÃ©cupÃ©rer, via une seule clÃ©, un ensemble dâ€™informations structurÃ©es de maniÃ¨re hiÃ©rarchique. La mÃªme opÃ©ration dans le monde relationnel impliquerait plusieurs jointures. Pour ce modÃ¨le, les implÃ©mentations les plus populaires sont CouchDB dâ€™Apache, RavenDB (destinÃ© aux plateformes .NET/Windows avec la possibilitÃ© dâ€™interrogation via LINQ) et MongoDB.

			    OrientÃ© graphe : Ce modÃ¨le de reprÃ©sentation des donnÃ©es se base sur la thÃ©orie des graphes. Il sâ€™appuie sur la notion de noeuds, de relations et de propriÃ©tÃ©s qui leur sont rattachÃ©es. Ce modÃ¨le facilite la reprÃ©sentation du monde rÃ©el, ce qui le rend adaptÃ© au traitement des donnÃ©es des rÃ©seaux sociaux. La principale solution est Neo4J.

			    Les deux mouvements â€œorientÃ© colonneâ€ et â€œorientÃ© documentâ€ dÃ©coulent bien du systÃ¨me clÃ© valeur et câ€™est la nature ou la structure de la valeur qui diffÃ¨re.
			    Conclusion

			    La technologie NoSQL ne cesse de faire parler dâ€™elle et semble avoir le vent en poupe. Attrayante, la barriÃ¨re dâ€™entrÃ©e pour un nouveau dÃ©veloppement est dâ€™ailleur assez peu Ã©levÃ©e pour tout dÃ©veloppeur ayant bien compris les sous-jacents de la solution retenue. NÃ©anmoins, il est essentiel de garder Ã  lâ€™esprit que NoSQL apporte une rÃ©ponse Ã  des besoins bien spÃ©cifiques. Dit autrement, il est nÃ©cessaire dâ€™avoir identifier au prÃ©alable la nÃ©cessitÃ© dâ€™utiliser cette technologie dans vos services (YAGNI) et pas uniquement avec une motivation : Â« et si on a autant de succÃ¨s demain que Twitter ? Â» ğŸ˜‰
			    Bien que le rÃ©flexe premier soit de penser aux performances sur des gros volumes de donnÃ©es ou des donnÃ©es faiblement structurÃ©es, certaines utilisations peuvent se justifier dans des environnements de plus faible volume ou plus faible charge. Par exemple, les bases orientÃ©es colonne faciliteront lâ€™Ã©volution du â€œschÃ©maâ€ des donnÃ©es et donc vous orienteront vers une maintenance plus intelligente, plus agile et donc plus durable de vos applications.
			    Cependant, nâ€™oubliez pas que, bien que robuste, cette technologie reste jeune et doit par consÃ©quent encore Ã©voluer : en se dotant par exemple de solutions ORM Ã©prouvÃ©es, en gommant lâ€™absence dâ€™un langage de requÃªtage commun et capitaliser sur lâ€™utilisation, comme nos chers SGBDR lâ€™ont fait sur les 20 derniÃ¨res annÃ©es.
